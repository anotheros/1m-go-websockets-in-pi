# 1m-go-websockets-in-pi
1 million go websocket in raspberry 2b+

# 挑战一把 在我的树莓派2b+ 运行websocket 服务器，

支撑 100万 go websocket 链接，并保持心跳。同时有 消息发送和接收

设计架构已经胸有成竹。

业务场景如下。

1.websocket 客户端链接到服务器上，保持链接。
2.websocket客户端发消息给 其他websocket客户端，通过 服务器转发。
3.
私聊。
3.1客户端c1 给客户端c2 发送消息。c1 发送有顺序消息 m1、m2、m3、m4。要求 c2 收到c1的顺序为  m1、m2、m3、m4。
   3.2客户端c1 给客户端c2，c3同时 发送消息。c1 向发送c2消息  2m1、2m2、2m3、2m4。c1向c3发送消息，3m1、3m2、3m3、3m4。
   c1 发送消息顺序 2m1、3m1、3m2、2m2、3m3、2m3、2m4、3m4
   c2收到的顺序为 2m1、2m2、2m3、2m4。
   c2收到的顺序为 3m1、3m2、3m3、3m4。
总结： c1->c2的2m{n}消息是串行的。
      c1->c3的3m{n}消息是串行的。
 发消息什么顺序，收到消息就是什么顺序。
3.2 群聊。

c1，c2，c3 在room1 群里。

三人同时发消息。要求。
1. 每个人看自己的消息都是有序的。 群里收到的消息跟自己发的消息顺序一致。
2. 大家看所有人的消息是有序的。即 大家的聊天记录里，消息顺序一致。

4.性能要求。
4.1.树莓派2b+ 100万人同时在线。保持ping/pong。
4.2.完成3中的最小化的测试
 
